#!/usr/bin/env cwl-runner

description: |
  Run samtools.

  Usage: cwl-runner <this-file-path> <bam_path> -o <output_name>

requirements:
  - class: DockerRequirement
    dockerPull: quay.io/dmiller15/mir-profiler 

class: CommandLineTool

inputs:
  - id: "#bam_path"
    type: File
    inputBinding:
      prefix: "-b"

  - id: "#output_name"
    type: string
    inputBinding:
      prefix: "-o"

outputs:
  - id: "#sam_file"
    type: File
    outputBinding:
      glob:
        engine: cwl:JsonPointer
        script: /job/output_name

baseCommand: ["python3", "/home/ubuntu/bin/mirna-profiler/py-tools/mir_samtools.py"]
